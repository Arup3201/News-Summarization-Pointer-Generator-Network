Newly published top-secret documents show that the United States government has reimbursed tech companies like Google, Yahoo, Facebook and Microsoft millions of dollars each year for their participation in the National Security Agency's clandestine Prism surveillance program that was made public earlier this year by NSA whistle-blower Edward Snowden.

Further, the documents - obtained by the Guardian newspaper from Snowden - show that the reimbursements were made even after a court ruled in 2011 that the agency's activities were unconstitutional.

The companies that were reimbursed were getting paid taxpayer money as reimbursement for costs incurred when they were forced to meet new certification demands after the Foreign Intelligence Surveillance (Fisa) court ruled that the NSA's actions were unconstitutional.

Prism: New documents reveal that the U.S. government spent millions to reimburse tech companies participating in its secret surveillance program

Whistle-blower: The new documents are just the latest in a series of leaks by former NSA analyst Edward Snowden

President Barack Obama declassified Fisa's October, 2011 judgement on Wednesday. The court found that the agency's inability to separate domestic from foreign communication violated the Fourth Amendment.   

The ruling created problems for the NSA, and the documents reveal the lengths to which the agency went to bring the operation into compliance.

The material obtained by the Guardian is the 'first evidence of a financial relationship between the tech companies and the NSA.'

According to the paper, the Fisa court is required to sign annual 'certifications' that 'provide the legal framework for surveillance operations.'

After the court ruled the program was unconstitutional, it would only renew certain certifications on a temporary basis as the NSA found a solution that wouldn't violate the constitution.

'Last year's problems resulted in multiple extensions to the 
certifications' expiration dates which cost millions of dollars for 
Prism providers to implement each successive extension – costs covered 
by Special Source Operations,' a top-secret memo from the NSA - dated December, 2012 - states.

Case-by-case: Microsoft says it is only seeking reimbursements from the government on a case-by-case basis

Yahoo! declined to specifically answer the Guardian's questions but acknowledged that it has sought reimbursements from the government

Facebook claims it 'never received any compensation in connection with responding to a government data request'

Snowden previously described Special Source Operations as the 'crown jewel' of the NSA. It oversees programs like Prism that require 'corporate partnerships' with the aforementioned tech companies.

Since the Guardian and the Washington Post exposed the Prism on June 6, the tech companies have systematically denied that they were involved in any sort of 'corporate partnership' with the government - they claimed they only hand over data when presented with a specific legal request.

According to the paper, a previous newsletter stated that all the companies particpating in Prism were given new certifications around the time of the Fisa ruling.

'All Prism providers, except Yahoo and Google, were successfully transitioned to the new certifications. We expect Yahoo and Google to complete transitioning by Friday 6 October,' the letter states.

Google said that its involvement in Prism 'falls far short of the wild claims still being made in the press today'

President Obama has repeatedly denied that the NSA was involved in any unauthorised surveillance of Americans

Reimbursements: new documents reveal that the NSA has spent millions paying companies to participate in Prism

The Guardian gave each of the companies an opportunity to explain the new documents, asking each one specific questions about the payments they received from the government for their participation in the program.

'Federal law requires the US government to reimburse providers for costs 
incurred to respond to compulsory legal process imposed by the 
government. We have requested reimbursement consistent with this law,' a Yahoo! spokeswoman told the paper.

Facebook said it had 'never received any compensation in connection with responding to a government data request.'

Google provided a statement, but refused to answer any specific questions.

'We await the US government's response to our petition to publish more 
national security request data, which will show that our compliance with
 American national security laws falls far short of the wild claims 
still being made in the press today,' the statement said.

Microsoft - which seeks reimbursements from the government on a case-by-case basis - initially declined an on-the-record comment, but later provided a statement.

'Microsoft only complies with court orders because it is legally ordered 
to, not because it is reimbursed for the work. We could have a more 
informed discussion of these issues if providers could share additional 
information, including aggregate statistics on the number of any 
national security orders they may receive,' the statement read.

@highlight

New documents that the federal government reimbursed the tech companies for compliance costs for their involvement in the Prism program

@highlight

The memos are the latest top-secret documents released by NSA whistle-blower Edward Snowden

@highlight

The documents are the 'first evidence of a financial relationship between the tech companies and the NSA.'