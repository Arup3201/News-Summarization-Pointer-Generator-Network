Iker Casillas made a mess of a first half free-kick and Diego Costa made it six games without scoring for Spain as the European champions were beaten by Slovakia in their first defeat in qualifying for eight years.

Casillas’ clanger allowed Juraj Kucka to give the hosts the lead and with Liverpool defender Martin Skrtel getting the better of Costa it always looked as if Vicente del Bosque’s side would leave empty-handed.

Spain substitute Paco Alcacer equalised with eight minutes left to make it two goals in two games for him but Michal Duris' cross was headed home by former Chelsea midfielder Miroslav Stoch three minutes from time and Slovakia took all three points.

VIDEO Scroll down to watch under-pressure Iker Casillas get skinned by Diego Costa in training 

Miroslav Stoch celebrates by taking his top off after scoring Slovakia's winning goal in the 87th minute

Spain's Paco Alcacer, pictured with Martin Skrtel, levelled the scoring with eight minutes left on the clock

Spain goalkeeper Iker Casillas missed the ball to allow Slovakia to score in the 17th minute

Slovakia's Juraj Kucka celebrates with team-mates after scoring during the Group C Euro 2016 qualifying win

Genoa midfielder Kucka (pictured celebrating with his team-mates) scored the opening goal of the match 

Kucka and his team-mates look ecstatic after the opening goal, while Diego Costa (right foreground) looks on

Slovakia: Kozacik, Pekarik, Skrtel, Durica, Hubocan, Mak (Stoch 61), Pecovsky, Gyomber, Kucka (Kiss 83), Weiss (Duris 54), Hamsik.

Subs not used: Michalik, Guede, Sestak, Nemec, Novota, Sabo, Mucha, Jakubko.

Goals: Kucka 17, Stoch 87 

Spain: Casillas, Juanfran (Cazorla 81), Pique, Albiol (Pedro 58), Jordi Alba, David Silva (Alcacer 71), Busquets, Fabregas, Koke, Iniesta, Diego Costa.

Subs not used: Azpilicueta, Bartra, Raul Garcia, De Gea, Iturraspe, Casilla, Carvajal, Bernat, Rdorigo.

Goal: Alcacer 82 

Costa’s international goal drought looked like coming to an end in the first half as his combination with Cesc Fabregas almost broke the deadlock inside the first 10 minutes.

The midfielder crossed from the right and Costa’s header went fractionally wide.

He was coming into the game having failed to score in his first six matches for his adopted country, in stark contrast to nine goals in nine games for Chelsea.

The Brazilian-born striker had started brightly and was seeing plenty of the ball.

Unfortunately Casillas did not see the ball at all at the other end of the pitch when he handed Slovakia a shock lead.

The Spain keeper had made a brilliant save moments earlier from Robert Mak. Peter Pekarik crossed from the right, and with Casillas wrong-footed, PAOK striker Mak thought he had scored but the Real Madrid keeper changed direction and turned the shot away for a corner.

But on 18 minutes Kucka drove a free-kick through a less than convincing Spain wall and with a slight swerve the driven shot seemed to confuse Casillas.

Had he not moved he would have caught the ball but he had already gone right and when he readjusted his position, his fumbling block could not prevent the ball hitting the back of the net.

It should have been a special night for Casillas, moving into second place for all-time international appearances for a European player, with only Latvia’s Vitalijs Astafjevs on 165 having played more. 

Spain and Barcelona defender Gerard Pique looks in dismay during his side's shock defeat by Slovakia

Vicente del Bosque named a strong team against Slovakia - with the likes of David Silva, Costa and Andres Iniesta all starting for La Roja

Chelsea midfielder Cesc Fabregas also featured for La Roja against European rivals Slovakia

Costa, pictured on the receiving end of a tackle by Liverpool's Skrtel, played the full 90 minutes against Slovakia

Slovakia's match-winner spent four years as a Chelsea player, although he never started a Premier League game for the club.

In 2010 the winger was sold to Turkish side Fenerbache, where he looked to have revitalised his career, scoring 14 times in his first two seasons.

But no goals in 17 games in the 2012/13 season saw him fall out of favour, and Stoch was loaned to PAOK in Greece.

After a decent spell he returned to Turkey, only to be loaned out again, this time to Al Ain in UAE, where he plays alongside former Sunderland striker Asamoah Gyan.

So far this season he has scored twice in three games, as well as making two appearances off the bench for Slovakia, including Thursday's crucial cameo.

But Casillas’ 158th game had been ruined by an error that now put Spain on the back foot. Fabregas and Costa led the charge to get back into the match and Costa in particular was everywhere, including in the face of Skrtel. The two clashed off the ball and were both spoken to by the referee. 

Ten minutes before the break Costa so nearly had his first goal for Spain when he headed Fabregas’ corner goalwards. Matus Kozacik pulled off a fine save and then saved Sergio Busquet’s acrobatic volley from the rebound.

Costa was denied at the start of the second half and Fabregas also went close but the Chelsea pairing were unable to get Spain back into the game.

It was in Slovakia nine years ago that Spain’s record goalscorer David Villa netted the first of his 59 goals and the reigning European champions had hoped Costa – the man they see as the heir to Villa’s throne – would also get off the mark here. But the curse continues.

Despite his blistering form for Chelsea he played in a disappointing 1-0 friendly defeat by France last month and then missed their 5-1 win over Macedonia a few days later. Some Spanish fans even wanted that team – with Valencia youngster  Alcacer leading the line – to be used again for this game.

Alcacer replaced Manchester City’s David Silva with 20 minutes left and scored the equaliser from Jordi Alba’s cross. It seemed that would set-up a grandstand finish and give Costa the opportunity to break his duck with the winner. 

Slovakia had other ideas though and from Duris’ cross Stoch got the winner.

Valencia striker Alcacer came off the substitutes' bench to score his second goal for his country

Costa congratulated his fellow striker after Alcacer scored past Slovakia goalkeeper Matus Kozacik

Chelsea striker Costa was unable to add to his personal goal tally for the season as he was kept quiet all evening

Casillas could lose his first team spot to Manchester United's David de Gea as he was at fault for Slovakia's first goal 

Stoch was mobbed by his international team-mates after scoring what turned out to be the winning goal

Del Bosque saw his side fall to their first defeat in a qualifying campaign for eight years

Spain full back Jordi Alba tries to rally his team-mates after conceding to Slovakia in the Euro 2016 qualifying match

Chelsea duo Costa and Fabregas react to conceding a late winner against Slovakia in their European Championship qualifier

VIDEO Mexico v Honduras highlights 

@highlight

Slovakia ace Miroslav Stoch scored in the 87th minute to give his side all three points

@highlight

Real Madrid goalkeeper Iker Casillas was at fault for Slovakia's opening goal

@highlight

Spain's No 1 appeared to misjudge Juraj Kucka's 17th-minute opener

@highlight

Substitute Paco Alcacer put Spain on level terms before Stoch's late winner 

@highlight

Spain recorded their first defeat in a qualifying campaign for eight years 

@highlight

Diego Costa's international goal drought continued on Thursday night  