By
Jennifer Newton

Afghan voters defied threats of violence to cast their ballots in the country's first democratic transfer of power today.

The turnout was so high that some polling centres ran out of ballot papers as people queued up to cast their vote more than an hour before polls opened.

Men in traditional tunics and loose trousers and women clad in burqas arrived at the polling stations with a sense of excitement over choosing a new leader for the first time.

Scroll down for videos

Men lining up to register to vote at a Kabul polling station in the country's first democratic transfer of power

The poll is amid tight security as Taliban militants have vowed to disrupt the vote by targeting polling stations and election workers.

Hundreds of thousands of Afghan police and soldiers fanned out across the country, searching cars at checkpoints and blocking vehicles from getting close to polling stations.

Some voters were searched three times in Kabul, and text messages were blocked in an apparent attempt to prevent candidates from last-minute campaigning.

At a Kandahar hospital-turned-polling station, the men's queue stretched from the building, through the courtyard and out into the street.

An Afghan policeman stands by a gate at a polling station in Jalalabad, east of Kabul during elections amid tight security

Afghan women show their registration cards as they wait to cast their ballots in Kunduz

In Helmand province, women pushed, shoved and argued as they pressed forward in a long line.

The Taliban threats came following several recent high-profile attacks in the heart of the Afghan capital, Kabul.

Just yesterday, an Associated Press veteran photographer was killed and a reporter wounded when an Afghan policeman opened fire on their car.

Today a bomb exploded in a school packed with voters in the Mohammad Agha district of Logar province, wounding two men, one seriously, according to local government spokesman Din Mohammad Darwesh

Rocket attacks and gun battles forced authorities to close an additional 211 polling centres, raising the total number which were shut because of security concerns to 959, according to Independent Election Commission chairman Ahmad Yousuf Nouristani.

Some polling stations ran out of ballot papers due the large turnout of voters across Afghanistan

These women queued up to vote in the Afghan elections in the north western city of Herat today

There was tight security at polling stations as Taliban militants vowed to disrupt the vote by targeting election workers

But Mr Nouristani also confirmed that some polling centres had run out of ballot papers but that authorities were addressing the shortfall.

They also extended voting by an hour, to accommodate everybody standing in the queue.

Mr Nouristani said: 'We have received complaints about it and we have already sent ballot papers to wherever needed.'

The vote will chose a successor to President Hamid Karzai, who is consitutionally barred from serving a third term.

International combat troops are leaving Afghanistan by the end of the year.

Afghans will be then left largely on their own to face what is likely to be an intensified campaign by the Taliban to regain power.

Afghan president Hamid Karzai cast his vote at a high school near to the Presidential Palace

Afghan presidential candidate Dr. Abdullah Abdullah, centre, and his vice presidential candidates Mohammed Mohaqiq, right and Mohammad Khan, left show their fingers marked with indelible ink after casting their ballots

A new president will be chosen from a field of eight candidates, with three of them widely considered the main contenders.

Mr Karzai cast his vote at a high school near the presidential palace.

'Today for us, the people of Afghanistan, is a very vital day that will determine our national future.

'We the people of Afghanistan will elect our provincial council members and our president by our secret votes,' he said, his finger stained with the indelible ink being used to prevent people from voting twice.

Electoral officials have taken extra measures to prevent fraud after widespread vote-rigging in 2009 marred Mr Karzai's re-election.

Strict protocols include bar codes on the ballot boxes delivered by truck and donkey caravans to all 34 provinces and plans to tally the results immediately after the vote closes and post a copy of the results at each centre.

@highlight

Voters started lining up to vote more than an hour before the polls opened

@highlight

Election is amid tight security due to threats by the Taliban

@highlight

Voters are choosing first democratic successor to President Hamid Karzai