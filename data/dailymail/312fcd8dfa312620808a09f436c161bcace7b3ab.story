By
Sara Malm

More than a dozen foreign nationals, including several children, had to be evacuated from a guesthouse used by a U.S.-based aid group in Kabul, after armed Taliban insurgents stormed the building and took at least four people hostage.

The hostages, which were said to have included three U.S. citizens, were trapped inside for at least an hour before Afghan security officials ended the siege in the upmarket residential area of the capital.

At least one Afghan child and five Taliban insurgents died during the operation, a military official said after the battle was over, adding that all hostages are now safe.

Scroll down for video

Fear: Men and women hold their children as they take refuge behind a generator after being evacuated from a guesthous in Kabul, where a reported six people are being held hostage by Taliban gunmen

Serve and protect:  Afghan members of a special reaction team are deployed at the scene in the capital Kabul

Im danger: Men and women confirmed to be foreign nationals take shelter after being evacuated from the guesthouse  

A gun battle erupted after a Taliban suicide bomber blew himself up outside the building and insurgents forced their way in, and heavy gunfire resonated in the area for more than an hour after the initial explosion.

Kabul is already on high alert and people are on edge ahead of next week's presidential election which the Taliban have vowed to disrupt.

'The fight is over. Five attackers are dead," Qadam Shah Shaheem, commander of 111 Military Corps Kabul, said.

'One detonated his car loaded with explosives, three others detonated explosives attached to their bodies inside the building, and one was shot by security forces.

'All four foreigners are alive and safe now.'

Deputy interior minister, General Ayoub Salangi, said at least one Australian citizen was among those rescued, but the nationalities of the others were not clear.

Men, women and children who appeared to be non-Afghans, fled to safety after the guesthouse, located in an upmarket residential area of the capital, was attacked

Safety: An Afghan man who was injured during an attack on a guesthouse by Taliban gunmen leaves the scene of the attack

The guesthouse, known to be used by foreign nationals is said to have been the headquarter of a U.S.-funded non-governmental organisation working with aid in Afghanistan

Standoff: Afghan policemen arrive at the site after group of Afghan Taliban insurgents forced their way into the guesthouse, taking several foreign nationals hostage

According to reports, four Taliban militants attacked a guesthouse used by foreigners in the Karte Seh neighborhood, west of Kabul city, fighting the people inside and security forces surrounding the building

The Taliban immediately claimed responsibility, saying in a statement the target was a foreign guesthouse and a church.

TV footage showed Afghan forces sealing off the street in the south of the capital and military convoys rushing to secure the area.

The nation of 30 million holds a presidential election on April 5 to elect a successor to outgoing President Hamid Karzai.

It will be a test for foreign donors hesitant about bankrolling the government after the bulk of NATO troops stationed in Afghanistan withdraw this year.

Violence has spiralled ahead of the vote, with Taliban suicide bombers and gunmen attacking an election commission office in Kabul on Tuesday.

Last week, nine people including an AFP journalist and an election observer were killed in a brazen attack on a highly fortified hotel in Kabul.

A majority of people inside the house could be escorted to safety but Kabul police chief Mohammad Zahir said three U.S. citizens, a Peruvian, a Malaysian and one unidentified African are still inside

A gun battle erupted after a Taliban suicide bomber blew himself up outside the building and insurgents forced their way in, and heavy gunfire resonated in the area for more than an hour after the initial explosion

Taking responsibility: A Taliban spokesman said insurgents attacked the guesthouse and a church of foreigners, however the claims have not been immediately confirmed

Waiting for change: Afghan security officials are now surrounding the guesthouse awaiting moves from the Taliban insurgents holding the foreign nationals hostage

@highlight

More than a dozen foreign nationals evacuated from guesthouse in Kabul allegedly used by U.S.-based aid group

@highlight

Taliban insurgents stormed the building after one suicide bomber blew himself up outside, reports say

@highlight

At least four people, reportedly including four American citizens, were taken hostage inside the guesthouse

@highlight

Siege ended Friday afternoon GMT, after four insurgents blew themselves up and one was killed by security forces