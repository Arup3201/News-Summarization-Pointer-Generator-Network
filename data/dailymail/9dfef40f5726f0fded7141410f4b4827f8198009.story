Tennis legend John McEnroe’s son landed behind bars this summer over a few bags of baking soda that he mistook for cocaine, it was revealed today.

Kevin McEnroe, 28, was arrested in July when police officers witnessed him purchasing six packets of white powdery substance they believed to be cocaine.

The tennis ace's offspring was also charged with possession of 20 oxycodone pills and 10 morphine pills following his arrest in the East Village on the night of July 15.

Scroll down for video  

Duped: Kevin McEnroe was arrested in July for allegedly buying drugs on a Manhattan street corner, but the cocaine in his possession turned out to be baking soda 

Kevin McEnroe, right, pictured with his father John, left, has been told he must undergo treatment by November 20 if he is to be eligible for the arrangement which will see the charges against him dropped

But according to court documents cited by the New York Daily News Wednesday, the younger Mr McEnroe had been duped by his alleged drug dealer, who sold him baking soda under the guise of cocaine.

Powder: The bogus cocaine was packaged in six bags to make it look like the real thing 

It was reported last week that the son of John McEnroe and actress Tatum O'Neal will be able escape a prison term if he remains out of trouble for the next six months. 

Details of the arrangement emerged in court documents following a hearing. 

Under the terms of the agreement, McEnroe will be enrolled in a treatment program, which if successful, will see any criminal charges against him dropped. 

The Manhattan district attorney's office said McEnroe must complete his treatment by November 20.  

Prosecutors have said that lab tests showed the white powder found in McEnroe's possession was not any controlled substance.

'He was arrested as a result of an observation purchase of this cocaine on the street. As it turned out, it was baking soda, nothing more,' McEnroe’s lawyer, Isabelle Kirshner, told Judge Lisa Sokoloff. 

Prosecutors reduced a felony charge against McEnroe to a misdemeanor.

McEnroe studied at the $44,000-a-year New York Trinity School before attending Skidmore and then Columbia University.

McEnroe had previously attended the elite $44,000-a-year Trinity School in Manhatten 

McEnroe's mother, Tatum O'Neal, left, lost custody of her children in the 1990s after she became and addict

At around 11.30pm on July 15, McEnroe was arrested on the corner of East 4th Street and Avenue A after being spotted by police. 

Investigators claimed they discovered McEnroe holding six bags of what they perceived to be cocaine, 20 oxy pills, 10 morphine tablets and one dose of an anti-anxiety medicine. 

Before the agreement, McEnroe had been facing charges of criminal position. 

McEnroe's parents divorced back in 1994 and four years later John McEnroe had been granted custody of their children after Tatum O'Neal had become hooked on heroin.

She has struggled with drug addiction since she was in her teens. 

@highlight

Kevin McEnroe, 28, was arrested in July under suspicion for possessing drugs

@highlight

Forensic tests confirmed the white powder in six packets was not cocaine but common baking soda 

@highlight

He was also suspected of possessing an number of prescription pills 

@highlight

Court documents show that charges will be dismissed if he enters drug treatment program 

@highlight

McEnroe must successfully complete the treatment by November 20

@highlight

He is the son of tennis player John McEnroe and actress Tatum O'Neal 