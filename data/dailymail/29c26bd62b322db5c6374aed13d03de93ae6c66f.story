A father who spent 21 years on death row for murdering a schoolgirl while trying to steal her earrings could soon be free after a federal judge overturned his conviction, claiming police 'covered up evidence.'

Senior U.S. District Judge Anita Brody called the case against James Dennis 'a grave miscarriage of justice' and said 'improper police work' led to the now-42-year-old being unfairly locked up for two decades.

In a ruling on Wednesday, she ordered Dennis released from prison unless prosecutors retry him within six months.

Scroll down for video

Music: Dennis, pictured in his late teens, was an aspiring singer when he went to prison

'When I first heard it, I couldn't 
believe it. When the lawyer called, I was on my feet. I was dancing. I 
was giving God the praise, because this is something we have been 
praying for from day one,' said Dennis' mother, Juanita Dennis, told ABC
 News.

Brody
 said Dennis was convicted based on 'shaky eyewitness identifications' 
following the shooting of Chedell Williams, 17, at a transit stop in 
Philadelphia's Fern Rock section in October 1991.

But
 other witnesses described Williams' killer as much taller than Dennis, 
who is 5-foot-5, and weighed more, according to the ruling.

Injustice: Judge Anita Brody called the case against James Dennis, pictured left and right, 'a grave miscarriage of justice' and said 'improper police work' led to the now-42-year-old being locked up for so long

Williams was at the train station 
with a female friend. Witnesses told police that at least two men were 
involved in the shooting, and possibly a third as a getaway driver, but 
Dennis was the only person charged. The men demanded her $450 earrings, and she handed them over, but they shot her anyway.

The weapon used in the shooting and the earrings were never recovered and police found no forensic evidence against Dennis.

Williams' friend told relatives that she knew the two assailants from high school and knew their nicknames, however she had never seen the men shown to her in the line up. The relatives passed the information to police, but they never followed up on it, Brody found.

Happy: Dennis' mother, daughters and other family, pictured, are thrilled at the overturned sentence

'Improper police work characterized nearly the entirety of the investigation,' the judge said, according to NBC News.  

Dennis, who was 20 and had only a minor drug arrest on his record when he was charged in Williams' death, maintains that he was on a bus at the time of the shooting and offered up an acquaintance to corroborate his story but he was convicted in 1992.

'The Commonwealth of Pennsylvania covered up evidence that pointed away from Dennis,' Brody added. '(It) has committed a grave miscarriage of justice in convicting Dennis and sentencing him to die for this crime.'

The judge also questioned the 
identification techniques used during a police photo array and police 
lineup, which have come under fire in numerous cases from the time.

He was already a father and had a child born after he went to prison.

Police ID: The judge also questioned the identification techniques used during a police photo array and police lineup, which led to Dennis, pictured left and right, being pinpointed

'For him, as a father, for him to have been accused of this horrible crime has really taken a toll on him,' pro bono lawyer Ryan Guilds, who has worked on his appeal since 1999, told NBC.  

However, Philadelphia District Attorney Seth Williams said he was disgusted by the judge's decision and his office was reviewing their options.

'The defendant was convicted for the brutal murder of a teenage girl on her way home from school, in broad daylight,' Williams told NBC. 'Three passersby saw him do it and identified him in court, without any possible motive to lie.'

Dennis, who is now a grandfather, hopes to be reunited with his family as soon as possible.

@highlight

Senior U.S. District Judge Anita Brody called the case against Philadelphia man James Dennis 'a grave miscarriage of justice' and blamed 'improper police work'

@highlight

In a ruling on Wednesday, Brody ordered the father-of-two to be released from prison unless prosecutors retry him within six months

@highlight

He was convicted in 1992 of shooting dead Chedell Williams, 17, the year before after stealing her $450 earrings