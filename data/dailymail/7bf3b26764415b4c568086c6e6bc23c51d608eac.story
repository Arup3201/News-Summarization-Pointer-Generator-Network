The passengers on a San Francisco light rail line were so absorbed in their phones and their tablet computers that no one noticed when a madman pulled out a handgun and waved it around several times before opening fire and killing a random commuter, police have revealed.

Nikhom Thephakaysone is charged with murdering promising San Francisco State University student Justin Valdez, 20, in cold blood, without provocation on a Municipal Railway last month.

Police say the CCTV footage from the rail car show that neither Valdez nor any of his fellow passengers saw it coming - even though Thephakaysone pulled out a .45-caliber pistol several times - even rubbing his nose with it in his hand once.

Distracted: Police say all of the passengers aboard a San Francisco light rail car were so absorbed in their electronics that they never saw a crazed man pulled out  gun several times (stock photo)

Promising: Justin Valdez was an upbeat, 20-year-old environmental activist attending San Francisco State University when police say he was randomly shot in the back of the head by a stranger he shared a train ride with

'These weren't concealed movements - the gun is very clear,' a baffled District Attorney George Gasc√≥n told the San Francisco Chronicle.

'These people are in very close proximity with him, and nobody sees this. They're just so engrossed, texting and reading and whatnot. They're completely oblivious of their surroundings.'

Valdez is perhaps the most extreme example of a troubling behavior that police say has become a public safety plague.

Two out of three robberies in the San Francisco area involve thieves snatching smart phones or other electric devices. Usually the victims are clueless until it's too late and their expensive property is gone.

'Oftentimes when you interview people who get their phones stolen, when you ask them to describe where the person came from, what he was wearing, they have no idea,' San Francisco Police Chief Greg Suhr said.

Suspect: This man, later identified as Nikhom Thephakaysone, was caught on CCTV cameras flashing a .45-caliber pistol several times before he opened fire

'Persistently positive': Friends and family say Valdez was always upbeat and an active conservationist

Dashed dreams: Valdez was the president of his high school's environmental club, where the school principal said he was very active, promising student

'It's not uncommon to read in a police report that a person "came out of nowhere" or "I didn't see where he came from."'

The
 Chronicle reports that at least 1,500 pedestrians went to emergency 
rooms across the country because they were distracted by cell phones.

Justin
 Valdez was an upbeat sophomore at San Francisco State University on his
 way home in the Ingleside Heights neighborhood around 9:50pm September 
23, officials say.

'He was 
one of the most persistently positive kids I ever knew,' Valdez's high 
school principal Steve Osborne told the San Francisco Examiner.

According
 to the Examiner, Valdez was an accomplished competitive swimmer and 
water polo player. He was also a passionate environmental advocate and 
conservationist.

Osborne said that in their last conversation, he told Valdez he hopes his own kids grow up to be as upbeat and vigilant.

'Everybody is just devastated,' Osborne said.

@highlight

Justin Valdez was a sophomore at San Francisco State University and a native of Garden Grove, California

@highlight

Nikhom Thephakaysone was arrested Tuesday for what police say was an unprovoked murder on Monday night