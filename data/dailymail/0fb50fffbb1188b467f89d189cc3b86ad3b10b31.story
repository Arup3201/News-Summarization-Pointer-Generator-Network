It's not just a fourth stand they are building at Bristol City. Sadly for Steve Cotterill, though, they will have to wait a while longer to underline their progress by taking the scalp of a big team.

For large swathes of this match, it looked possible. West Ham were often desperately poor and Bristol City were frequently exciting. They attacked with pace and without fear; they created chances and did everything except take them.

Twice Matt Smith won headers within a dangerous range and twice he beat Adrian in West Ham’s goal. Twice, there was a man waiting on the line to clear. That final yard was the hurdle and curse for a club who only have three quarters of a stadium, but dream big and sit second in League One. 

West Ham striker Diafra Sakho celebrate putting Sam Allardyce's side into a 1-0 lead against Bristol City

The Senegalese striker meets Andy Carroll's cross at the far post to send the away side into the FA Cup fifth round

Sakho salutes the travelling fans after coming off the bench and giving the Irons a crucial late lead

Sakho and Aaron Cresswell celebrate in front of the 1,006 Hammers faithful at Ashton Gate 

Bristol City (3-5-2): Fielding 6 Ayling 6, Flint 7, Williams 6.5; Little 6.5 (Wagstaff 75, 6), K Smith 6.5, Freeman 7 (Agard 83), Saville 6.5 (Pack 83), Bryan 6.5; Emmanuel-Thomas 6.5, M Smith 6.5

Subs not used: Richards, Osborne, Elliott, Cunningham

Manager: Steve Cotterill 6.5

West Ham (4-3-1-2): Adrian 6; Jenkinson 7, Tomkins 6, Reid 6.5, Cresswell 6.5; Noble 5.5, Song 5 (Amalfitano 57, 6), Nolan 5 (Demel 88); Downing 6; Carroll 6.5, Valencia 4.5 (Sakho 57, 7.5)

Subs not used: Jaaskelainen, Demel, Poyet, Jarvis, Cole

Booked: Nolan, Noble

Manager: Sam Allardyce 7.5

Referee: Lee Mason 6

Attendance: 12,682 

Player rating by Riath Al-Samarrai 

‘All we needed was that final touch,’ said Cotterill.

For Sam Allardyce, there can only be relief that Diafra Sakho was fit after three weeks out and able to come off his bench to head an 81st-minute winner. Certainly any pride will need to be balanced against what was a weak performance, particularly from his midfielders.

But into the draw they go and that, for this club more than some, is important. Allardyce knows his side have an opportunity in this competition in light of Saturday’s magnificent upsets – not to mention the freedom afforded by West Ham’s good league position – and it was the gist of his team talk.

Allardyce said: ‘I said to the players, “Don’t be a victim. Don’t be another casualty. Be professional in what you do and if they are to beat you they have to produce something special”. It was a hard-earned victory and one we are grateful for.

‘A team in the lower divisions can, in one day, beat the most forceful team in the Premier League. Chelsea conceded four at home to Bradford. Big teams can always get knocked out. Gladly we are one of the bigger teams not crying all the way home.

‘Now it will all depend on the draw. I know it’s said that somewhere along the line you are going to get a Premier League team. But I hope we get them when we’re in the final and not before.’

Cotterill, meanwhile, tried to strike a philosophical tone but knows a chance went untaken. ‘We won’t be slitting our wrists because we got beat 1-0 by West Ham,’ he said. ‘It’s just a slight disappointment because with a bit of luck we might have knocked them out.

‘I think the results on Saturday made it more difficult for us. I am not saying West Ham wouldn’t have been focused but if they weren’t then those results would have made them more focused.

‘They picked a good, strong, experienced team.’

Indeed, Allardyce made only one change to the side that crushed Hull in the Premier League last weekend, with Winston Reid stepping in for James Collins, who has a back problem.

It was about as strong a side as West Ham could field; it was a side that spent all but the final 10 minutes of the first half struggling to draw breath. 

Sakho is joined by his jubilant team-mates, including Carroll, whose right-footed cross found its marker

Mark Noble of heads off the line to deny Smith as West Ham came under pressure during the early stages at Ashton Gate

Bristol striker Matt Smith rises above Winston Reid but but his header flies over the West Ham crossbar 

The 25-year-old striker rests on his knees after missing one of several chances that came his way on Sunday

George Saville shows no fear as he reach for the ball with a high boot against Hammers midfielder Kevin Nolan

Luke Freeman (right) looks to shield the ball from James Tomkins during a difficult first half for the Hammers 

Our brilliant Match Zone service shows that Sakho's far post header came after good work down the right from Carroll

With an extra man in the middle, City were winning the battle for midfield and in Luke Freeman, once of Arsenal but more recently Stevenage, they had a man who was able to take control. In Alex Song, West Ham had a top-class midfielder on loan from Barcelona who seemingly couldn’t pass to a team-mate. Combined, it meant City were on top for most of the half, happy to counter or dictate.

The first warning was sounded after six minutes when Smith’s header beat Adrian and was cleared by Mark Noble.

Smith then sent a second header past the keeper, only to be brilliantly cleared by Andy Carroll. West Ham looked in desperate trouble. In one challenge, Emmanuel-Thomas floored Winston Reid – the clichés about lower league sides making life uncomfortable for the big boys were also acted out.

Allardyce responded by hooking off Song and Enner Valencia for Morgan Amalfitano and Sakho shortly after the restart and West Ham gradually held more possession. But even then there was no evidence that one side is almost two divisions to the north of the other, Smith underlying the point by heading over.

But then Sakho took hold of this game. In the space of two minutes he was blocked by Aden Flint and also grazed the bar after showing some delightful skill on his way to goal. When Carroll hooked over a cross 10 minutes from time Sakho jumped up and won the game, even if Smith was given the opportunity to miss yet another header.

‘We were never at our very best but we did enough to get through to the next round,’Allardyce said.

In the context of a remarkable weekend, that will have to do.

Smith thought he had given Bristol a deserved lead after sending his header towards goal only to see it cleared by Carroll

Hammers goalkeeper Adrian (right) spreads himself wide as Luke Ayling meets the ball at the far post 

Ayling puts his head in his hands as another half-chance goes begging for the home side

Bristol striker Smith (centre) laughs as he is fouled by Hammers defender Winston Reid during the FA Cup clash 

Freeman is surrounded as by Noble (left) and Winston Reid (right) as the Robins star looks to drive his team forwards

Enner Valencia (left) is fouled by Joe Bryan during at goalless first 45 minutes on Sunday afternoon

Steve Cotterill shouts instructions to his players as Valencia is left crumpled in a heap following Bryan's challenge

West Ham United boss Allardyce has words with the fourth official on the touchline during the FA Cup match

Emmanuel-Thomas (left) rides the challenge of Noble battle as the pair battle for the ball during the first half

Bristol fans tie their scarves together as they show their support for their team ahead of kick-off

Allardyce celebrates the victory by giving former Arsenal midfielder Alex Song an impromptu massage

@highlight

Diafra Sakho scores 81st winner to hand West Ham FA Cup fourth round win against Bristol

@highlight

Both Mark Noble and Andy Carroll clear the ball off the line during difficult first half for West Ham

@highlight

Bristol striker Matt Smith sees second half header sail over the bar  