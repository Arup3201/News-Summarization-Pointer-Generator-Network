This is the shocking moment an undercover cop pulled a gun on Micheal Brown protesters in Oakland.

The cop  had been marching with the demonstrators on Wednesday night, but pointed his pistol at protesters after he and his partner were attacked.

KTVU reported that demonstrators screamed at the undercover officers during the march 'Hey, they're undercover, they're cops!'

The officers' faces were masked at the time, the affiliate station reported. 

Scroll down for video 

Incident: An undercover police officer, who had been marching with the demonstrators, pointing his pistol at protesters after he and his partner were attacked

Tense: About 20 uniformed officers were quickly on the scene and detained one man

The hollering continued when the officers tried leaving, KTVU reported.

An undercover officer shoved a demonstrator to the side, before the demonstrator shoved him, the affiliate station reported. 

The man was reportedly handcuffed and brought down on the ground.

The other officer brandished his weapon after demonstrators started to surround the two men, KTVU reported. 

About 20 uniformed officers were quickly on the scene and detained one man. 

Demonstrators broke windows and looted stores and that there was one arrest for assaulting an officer in the latest U.S. protest over police violence.

Oakland and neighboring Berkeley have seen nightly demonstrations since the weekend in response to decisions by two grand juries not to charge white police officers in the killings of unarmed black men in Ferguson, Missouri, and New York City.

On Wednesday night, about 150 protesters, a smaller crowd than on previous evenings, left the campus of University of California-Berkeley and demonstrated without incident before marching south into Oakland, the city of Oakland said in a statement.

Arrest: A spokesman for the Oakland Police Department said only that it had responded to a request for assistance 'made by an outside agency,' and referred all inquiries about the incident to the California Highway Patrol

By that point, the protesters' numbers had dwindled to about 50 people, the statement said, some of whom broke windows at a T-Mobile store and a Chase bank. Looting also was reported in an area of small businesses at a downtown intersection, it said. 

A spokesman for the Oakland Police Department said only that it had responded to a request for assistance 'made by an outside agency,' and referred all inquiries about the incident to the California Highway Patrol. 

Lt. Chris Bolton with the Oakland Police Department tweeted early Thursday morning 'The #OaklandProtest pictured man isn't an OPD officer & not an OPD arrest. OPD 1st responded to scene on report from other agency. 1/1.'

'2/2 That outside agency has been notified to provide details and address concerns re #OaklandProtest concerns.'

He later tweeted, 'Last night #OaklandPolice responded to a request for help during a California Highway Patrol arrest at Bay & Harrison St. (1/2)'

'2/2 #OaklandPolice PIO is referring all inquiries regarding this incident to the California Highway Patrol.'

Bolton answered a Twitter user's query, and said 'Yes, it was a CHP arrest conducted by CHP officers.'

CHP media officials did not immediately respond to requests for comment.

Before the incident, demonstrators reportedly screamed at the undercover officers 'Hey, they're undercover, they're cops!'

Twitter user Dave Id also published a series of tweets online about the incident early Thursday morning.

'March definitely OOO-VER!' he wrote. 'But I got better info from direct eyewitnesses on undercover incident... #Oakland #BerkeleyProtests.'

He also said 'Tall 6'8" undercover and shorter 5'8" undercover with mask on were confronted in dark part of 27th street. Tall cop pulled out baton...'

A third tweet from Id alleged 'Tall cop quickly threw baton on ground and then pulled out gun, holding it sideways all gangster. Someone then clocked the masked cop...'

He also claimed that 'Masked undercover wasn't beaten badly as I first heard from witness further away, but hit straight in face and knocked down...' 

The City of Oakland said in a statement one arrest was made overnight after an officer was assaulted, but it was not immediately clear whether that was same incident witnessed by the Reuters photographer. 

Two subway stations in downtown Oakland were shut down for a time late on Wednesday due to the protest, city officials said.

On previous evenings this week in the Bay Area, riot police have fired tear gas and pepper spray to disperse demonstrators, some of whom have thrown stones at the officers.

The protests are part of nationwide actions by activists amid turmoil over the policing of black communities.

Erica Garner, daughter of Eric Garner,  leads a march of people protesting the Staten Island, New York grand jury's decision not to indict a police officer involved in the chokehold death of Eric Garner in July

 

@highlight

A photographer witnessed an undercover police officer pointing his pistol at protesters after he and his partner were attacked

@highlight

The undercover officer had been marching with protesters in Oakland

@highlight

About 20 officers were quickly on the scene and detained one man

@highlight

A spokesman for the Oakland Police Department said only that it had responded to a request for assistance 'made by an outside agency' 