Olympic ski racer Bode Miller and his ex-girlfriend have finally reached a settlement in the custody battle over their 18-month-old son - although they still can't agree on his name.

Miller and Sara McKenna, a former Marine, finalized a deal last week following a lengthy battle over their son - who is called Sam by his mother and Nate by his father.

The deal was reached just before the squabbling pair were due to testify in a public trial about who would be a better parent for the boy, Page Six reported.

Details of the agreement are confidential, McKenna's attorney Michael Stutman said.

Truce: Sara McKenna, pictured left outside court in December 2013, and Olympic skier Bode Miller, right with wife Morgan Beck outside court in April, have reached a custody agreement over their 18-month-old son

'Neither of us got exactly what we wanted, but Sam got what he needed and that's what's most important to me,' McKenna, 28, told the paper.

The agreement brings a truce after two years of public disputes between the couple, who dated after meeting through a matchmaking service.

After McKenna, then a firefighter, fell pregnant three months into their relationship, Miller said he did not want to raise the boy together, and they moved their separate ways.

At seven months pregnant, McKenna moved from California to New York to attend Columbia University on the G.I. Bill, while he married volleyball player Morgan Beck.

Battle: McKenna, a former Marine who is now studying at Columbia University, is pictured with her son Sam on the Brooklyn Bridge. A judge previously took away custody from her after she moved to New York

With dad: The toddler is pictured with his father and step-mother, Morgan Beck, who call him 'Nate'

McKenna said she told him of her plans in a text message but he never responded.

But two weeks after Sam was born in February 2013, Miller filed for custody in California and she temporarily lost custody of him, McKenna recounted in an essay for Cosmopolitan.

It came just a month after Miller, now 37, and his wife Morgan, 27, experienced a miscarriage.

In September last year, a judge gave Miller full custody of Sam, calling McKenna's move to New York 'irresponsible' and 'irreprehensible'.

After losing Sam, McKenna's life turned into a 'nightmare' and she quit school and her job, she said.

But she soon realized that being 'catatonic wasn't helping matters' so she re-enrolled and continued her studies while relentlessly pursuing a way to get Sam back for good, she said in Cosmo.

'Hurtful': McKenna previously said she has struggled to see Beck hold her son as if he is her own

Record breaking: Bode Miller, a five-time world champion, is pictured competing at Sochi in February

McKenna also tracked her son's life with Miller on her ex and his new wife's social media profiles and noticed they were calling him 'Nathaniel', after Miller's late brother.

'That was really heartbreaking,' she wrote. 'Our son's name is Samuel Bode Miller-McKenna. Calling him anything else is just confusing.' 

The next time she saw her son was at a court hearing in November where she won back custody. She is now studying law in the hope of helping others going through the same ordeal.

Miller, a five-time world champion, still lives in California with his wife. He also has an older daughter from a previous relationship. 

@highlight

Bode Miller, 37, and Sara McKenna, 28, finalized a deal last week over their son - who is called Sam by his mother and Nate by his father

@highlight

The details are confidential but 'Sam got what he needed', McKenna said

@highlight

She fell pregnant a few months into dating Miller but after 'he said he didn't want to raise the boy together', she moved from California to New York

@highlight

When Sam was born in February 2013, Miller won custody after a judge called McKenna's move to New York 'irresponsible'

@highlight

She won custody back last year but they have been in and out of court since