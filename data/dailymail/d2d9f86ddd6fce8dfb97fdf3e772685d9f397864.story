It was billed as the ultimate test of man vs machine, with a world champion table tennis player taking on one of the world's most advanced robots.

Footage put online shows the pair competing in a head to head contest, claiming a real match was being played - with a teaser being watcher over a million times on YouTube.

However, MailOnline can reveal the stunt was just a TV ad for the robot-making firm.

Scroll down to see the video - and how it was made

The match takes place in a giant warehouse, pitting German no 1 Timo Boll against Kuko's robot

The robot was even programmed to perform trick shots such as balancing the ball on a bat

German No 1 Timo Boll faced off against a Kuka KR Aglius. to celebrate the opening of an inaugural Kuka plant in Shanghai.

The new KUKA Shanghai plant will produce 3,000 KUKA KR QUANTEC robots and KRC4 universal control units annually for its Asia-based customers

The  Kuka KR Agilus was chosen because of its high levels of precision at fast speeds, while former world No 1 Boll has enjoyed a successful career that has spanned almost two decades and won a Bronze medal with the German team at the 2012 London Olympics.

The stunning ad shows the pair in head to head combat, fighting an astonishing game to to final point - where Boll triumphs over the machine.

However, Kuka today revealed the match was a stunt for its latest TV ad - and showed how it did it.

The team took over a huge warehouse in Bulgaria, and flew in a programmer to program the series of shots into the robot arm.

Multiple cameras were used to record the action after every shot was choreographed

Shots were replayed time and time again, with a programmer on hand to tweak the robot's movements

Despite this, the robot still manages to show incredible agility, even at one point balancing a ball on the racquet.

Boll said he was intrigued by the stunt.

'I'm happy to play against the robot, but what makes a good table tennis player is speed, agility, and action - and those are attributes a modern robot needs to have. 

Hans Neubert, the director of the ad, said 'It's a gigantic production

'We are filming with two cameras, and two superstars.'

He admitted that although many of the sequences were preplanned, watching the robot and player recreate them over and over to get the right shots was an incredible experience.

Every shot was painstakingly programmed to make the match look real

The ad was filmed in a giant warehouse in Bulgaria

'These two attack each other all day long.

'The speed at which the two have been going at each other is fascinating.

'You don't have a chance following them with a camera.

'Playing the ball on the same point over and over again with such precision is unbelievable.

'Their precision is to the millimetre, its crazy.' 

@highlight

Match billed as ultimate test of man vs machine - and teaser had over a million YouTube views

@highlight

Shows German no 1 player Timo Boll narrowly beating the robot

@highlight

Match revealed to be a TV ad for the robot firm